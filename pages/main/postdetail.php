<section class="watch-video">

   <div class="video-container">
      
      <div class="tutor info">
         <a href="#"><img src="images/pic-2.jpg" alt=""></a>
         <div>
            <a href="#"><h3>john deo</h3></a>
            <p class="date"><i class="fas fa-calendar"></i><span>22-10-2022</span></p>
         </div>
      </div>
      
      <p class="description">
         Lorem ipsum dolor, sit amet consectetur adipisicing elit. Itaque labore ratione, hic exercitationem mollitia obcaecati culpa dolor placeat provident porro.
         Lorem, ipsum dolor sit amet consectetur adipisicing elit. Aliquid iure autem non fugit sint. A, sequi rerum architecto dolor fugiat illo, iure velit nihil laboriosam cupiditate voluptatum facere cumque nemo!
      </p>
      <form action="" method="post" class="flex description">
        <h4 style="font-size: 1.2rem;">5 Bình luận</h4>
        <button><i class="far fa-heart"></i><span>Thích</span></button>
      </form>
   </div>

</section>
<section class="comments">

   <h1 class="heading">Bình luận</h1>

   <form action="" class="add-comment">
      <h3>Thêm bình luận</h3>
      <textarea name="comment_box" placeholder="enter your comment" required maxlength="1000" cols="30" rows="10"></textarea>
      <input type="submit" value="add comment" class="inline-btn" name="add_comment">
   </form>

   <h1 class="heading">user comments</h1>

   <div class="box-container">

      <div class="box">
         <div class="user">
            <img src="images/pic-1.jpg" alt="">
            <div>
               <h3>shaikh anas</h3>
               <span>22-10-2022</span>
            </div>
         </div>
         <div class="comment-box">this is a comment form shaikh anas</div>
         <form action="" class="flex-btn description">
            <div class="option_before">
               <input type="button" value="Chỉnh sửa" name="edit_comment" class="inline-option-btn btnEdit">
               <input type="button" value="Xóa" name="delete_comment" class="inline-delete-btn btnDelete">
            </div>
            <div class="option_after" style="display: none;">
               <input type="submit" value="Lưu" name="save_comment" class="inline-option-btn btnSave">
               <input type="button" value="Hủy" name="cancel_comment" class="inline-delete-btn btnCancel">
            </div>
            <button class="inline-option-btn btnlike" style="color: black;"><i class="far fa-heart"></i><span>Thích</span></button>
         </form>
      </div>

      <div class="box">
         <div class="user">
            <img src="images/pic-2.jpg" alt="">
            <div>
               <h3>john deo</h3>
               <span>22-10-2022</span>
            </div>
         </div>
         <div class="comment-box">awesome tutorial!
            keep going!
         </div>
            <form action="" class="flex-btn description">
               <div class="option_before">
                  <input type="button" value="Trả lời" name="edit_comment" class="inline-option-btn btnEdit">
               </div>
               <div class="option_after" style="display: none;">
                  <input type="submit" value="Lưu" name="save_comment" class="inline-option-btn btnSave">
                  <input type="button" value="Hủy" name="cancel_comment" class="inline-delete-btn btnCancel">
               </div>
               <button class="inline-option-btn btnlike" style="color: black;"><i class="far fa-heart"></i><span>Thích</span></button>
            </form>
      </div>

      <div class="box">
         <div class="user">
            <img src="images/pic-3.jpg" alt="">
            <div>
               <h3>john deo</h3>
               <span>22-10-2022</span>
            </div>
         </div>
         <div class="comment-box">amazing way of teaching!
            thank you so much!
         </div>
         <form action="" class="flex-btn description">
               <div class="option_before">
                  <input type="button" value="Trả lời" name="edit_comment" class="inline-option-btn btnEdit">
               </div>
               <div class="option_after" style="display: none;">
                  <input type="submit" value="Lưu" name="save_comment" class="inline-option-btn btnSave">
                  <input type="button" value="Hủy" name="cancel_comment" class="inline-delete-btn btnCancel">
               </div>
               <button class="inline-option-btn btnlike" style="color: black;"><i class="far fa-heart"></i><span>Thích</span></button>
            </form>
      </div>

      <div class="box">
         <div class="user">
            <img src="images/pic-4.jpg" alt="">
            <div>
               <h3>john deo</h3>
               <span>22-10-2022</span>
            </div>
         </div>
         <div class="comment-box">loved it, thanks for the tutorial!</div>
         <form action="" class="flex-btn description">
               <div class="option_before">
                  <input type="button" value="Trả lời" name="edit_comment" class="inline-option-btn btnEdit">
               </div>
               <div class="option_after" style="display: none;">
                  <input type="submit" value="Lưu" name="save_comment" class="inline-option-btn btnSave">
                  <input type="button" value="Hủy" name="cancel_comment" class="inline-delete-btn btnCancel">
               </div>
               <button class="inline-option-btn btnlike" style="color: black;"><i class="far fa-heart"></i><span>Thích</span></button>
            </form>
      </div>

      <div class="box">
         <div class="user">
            <img src="images/pic-5.jpg" alt="">
            <div>
               <h3>john deo</h3>
               <span>22-10-2022</span>
            </div>
         </div>
         <div class="comment-box">this is what I have been looking for! thank you so much!</div>
         <form action="" class="flex-btn description">
               <div class="option_before">
                  <input type="button" value="Trả lời" name="edit_comment" class="inline-option-btn btnEdit">
               </div>
               <div class="option_after" style="display: none;">
                  <input type="submit" value="Lưu" name="save_comment" class="inline-option-btn btnSave">
                  <input type="button" value="Hủy" name="cancel_comment" class="inline-delete-btn btnCancel">
               </div>
               <button class="inline-option-btn btnlike" style="color: black;"><i class="far fa-heart"></i><span>Thích</span></button>
            </form>
      </div>

      <div class="box">
         <div class="user">
            <img src="images/pic-2.jpg" alt="">
            <div>
               <h3>john deo</h3>
               <span>22-10-2022</span>
            </div>
         </div>
         <div class="comment-box">thanks for the tutorial!

            how to download source code file?
         </div>
         <form action="" class="flex-btn description">
               <div class="option_before">
                  <input type="button" value="Trả lời" name="edit_comment" class="inline-option-btn btnEdit">
               </div>
               <div class="option_after" style="display: none;">
                  <input type="submit" value="Lưu" name="save_comment" class="inline-option-btn btnSave">
                  <input type="button" value="Hủy" name="cancel_comment" class="inline-delete-btn btnCancel">
               </div>
               <button class="inline-option-btn btnlike" style="color: black;"><i class="far fa-heart"></i><span>Thích</span></button>
            </form>
      </div>

   </div>

</section>


<script>
   var editButton = document.querySelector('.btnEdit');
   var deleteButton = document.querySelector('.btnDelete');
   var saveButton = document.querySelector(".btnSave");
   var cancelButton = document.querySelector(".btnCancel");
   var optionBefore = document.querySelector(".option_before");
   var optionAfter = document.querySelector(".option_after");
   var commentBox = document.querySelector('.comment-box');

   var isEditing = false;
   var textareaElement; // Khai báo biến textareaElement ở đây
   var originalComment; // Lưu trạng thái ban đầu của comment

   function toggleEditState() {
      if (isEditing) {
         // Tạo một div mới chứa giá trị chỉnh sửa
         var newCommentBox = document.createElement('div');
         newCommentBox.className = 'comment-box';

         if (commentBox && commentBox.parentNode) {
            // Thay thế textarea hiện tại bằng div mới
               commentBox.parentNode.replaceChild(newCommentBox, textareaElement);
         }
         optionBefore.style.display = "block";
         optionAfter.style.display = "none";
      } else {
         textareaElement = document.createElement('textarea');
         textareaElement.className = 'comment-box';
         textareaElement.value = commentBox.textContent;

         if (commentBox && commentBox.parentNode) {
               // Thay thế div hiện tại bằng textarea
               commentBox.parentNode.replaceChild(textareaElement, commentBox);
         }
         optionBefore.style.display = "none";
         optionAfter.style.display = "block";
         // Lưu trạng thái ban đầu của comment
         originalComment = commentBox.textContent;
      }

      isEditing = !isEditing;
   }

   editButton.addEventListener("click", toggleEditState);
   document.addEventListener("DOMContentLoaded", (event) => {
      textareaElement = document.querySelector('.comment-box');
      console.log(textareaElement);
      cancelButton.addEventListener("click", function () {
         // Khôi phục giá trị ban đầu của comment
         textareaElement.value = originalComment;
         // Thay thế textarea bằng lại div
         textareaElement.parentNode.replaceChild(commentBox, textareaElement);
         optionBefore.style.display = "block";
         optionAfter.style.display = "none";

         isEditing = false;
      });
  });
</script>




